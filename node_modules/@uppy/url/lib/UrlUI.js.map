{"version":3,"names":["h","Component","nanoid","_handleSubmit","_classPrivateFieldLooseKey","UrlUI","constructor","props","form","document","createElement","Object","defineProperty","writable","value","ev","preventDefault","addFile","preparedValue","input","trim","id","componentDidMount","addEventListener","_classPrivateFieldLooseBase","body","appendChild","componentWillUnmount","removeEventListener","removeChild","render","i18n","className","type","placeholder","ref"],"sources":["UrlUI.tsx"],"sourcesContent":["import { h, Component, type ComponentChild } from 'preact'\nimport { nanoid } from 'nanoid/non-secure'\nimport type { I18n } from '@uppy/utils/lib/Translator'\n\ntype UrlUIProps = {\n  i18n: I18n\n  addFile: (url: string) => void\n}\n\nclass UrlUI extends Component<UrlUIProps> {\n  form = document.createElement('form')\n\n  // Ref is always defined after render\n  input!: HTMLInputElement\n\n  constructor(props: UrlUIProps) {\n    super(props)\n    this.form.id = nanoid()\n  }\n\n  componentDidMount(): void {\n    this.input.value = ''\n    this.form.addEventListener('submit', this.#handleSubmit)\n    document.body.appendChild(this.form)\n  }\n\n  componentWillUnmount(): void {\n    this.form.removeEventListener('submit', this.#handleSubmit)\n    document.body.removeChild(this.form)\n  }\n\n  #handleSubmit = (ev: SubmitEvent) => {\n    ev.preventDefault()\n    const { addFile } = this.props\n    const preparedValue = this.input.value.trim()\n    addFile(preparedValue)\n  }\n\n  render(): ComponentChild {\n    const { i18n } = this.props\n    return (\n      <div className=\"uppy-Url\">\n        <input\n          className=\"uppy-u-reset uppy-c-textInput uppy-Url-input\"\n          type=\"text\"\n          aria-label={i18n('enterUrlToImport')}\n          placeholder={i18n('enterUrlToImport')}\n          ref={(input) => {\n            this.input = input!\n          }}\n          data-uppy-super-focusable\n          form={this.form.id}\n        />\n        <button\n          className=\"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Url-importButton\"\n          type=\"submit\"\n          form={this.form.id}\n        >\n          {i18n('import')}\n        </button>\n      </div>\n    )\n  }\n}\n\nexport default UrlUI\n"],"mappings":";;;AAAA,SAASA,CAAC,EAAEC,SAAS,QAA6B,QAAQ;AAC1D,SAASC,MAAM,QAAQ,mBAAmB;AAAA,IAAAC,aAAA,gBAAAC,0BAAA;AAQ1C,MAAMC,KAAK,SAASJ,SAAS,CAAa;EAGxC;;EAGAK,WAAWA,CAACC,KAAiB,EAAE;IAC7B,KAAK,CAACA,KAAK,CAAC;IAAA,KANdC,IAAI,GAAGC,QAAQ,CAACC,aAAa,CAAC,MAAM,CAAC;IAAAC,MAAA,CAAAC,cAAA,OAAAT,aAAA;MAAAU,QAAA;MAAAC,KAAA,EAqBpBC,EAAe,IAAK;QACnCA,EAAE,CAACC,cAAc,CAAC,CAAC;QACnB,MAAM;UAAEC;QAAQ,CAAC,GAAG,IAAI,CAACV,KAAK;QAC9B,MAAMW,aAAa,GAAG,IAAI,CAACC,KAAK,CAACL,KAAK,CAACM,IAAI,CAAC,CAAC;QAC7CH,OAAO,CAACC,aAAa,CAAC;MACxB;IAAC;IAnBC,IAAI,CAACV,IAAI,CAACa,EAAE,GAAGnB,MAAM,CAAC,CAAC;EACzB;EAEAoB,iBAAiBA,CAAA,EAAS;IACxB,IAAI,CAACH,KAAK,CAACL,KAAK,GAAG,EAAE;IACrB,IAAI,CAACN,IAAI,CAACe,gBAAgB,CAAC,QAAQ,EAAAC,2BAAA,CAAE,IAAI,EAAArB,aAAA,EAAAA,aAAA,CAAc,CAAC;IACxDM,QAAQ,CAACgB,IAAI,CAACC,WAAW,CAAC,IAAI,CAAClB,IAAI,CAAC;EACtC;EAEAmB,oBAAoBA,CAAA,EAAS;IAC3B,IAAI,CAACnB,IAAI,CAACoB,mBAAmB,CAAC,QAAQ,EAAAJ,2BAAA,CAAE,IAAI,EAAArB,aAAA,EAAAA,aAAA,CAAc,CAAC;IAC3DM,QAAQ,CAACgB,IAAI,CAACI,WAAW,CAAC,IAAI,CAACrB,IAAI,CAAC;EACtC;EASAsB,MAAMA,CAAA,EAAmB;IACvB,MAAM;MAAEC;IAAK,CAAC,GAAG,IAAI,CAACxB,KAAK;IAC3B,OACEP,CAAA;MAAKgC,SAAS,EAAC;IAAU,GACvBhC,CAAA;MACEgC,SAAS,EAAC,8CAA8C;MACxDC,IAAI,EAAC,MAAM;MACX,cAAYF,IAAI,CAAC,kBAAkB,CAAE;MACrCG,WAAW,EAAEH,IAAI,CAAC,kBAAkB,CAAE;MACtCI,GAAG,EAAGhB,KAAK,IAAK;QACd,IAAI,CAACA,KAAK,GAAGA,KAAM;MACrB,CAAE;MACF,iCAAyB;MACzBX,IAAI,EAAE,IAAI,CAACA,IAAI,CAACa;IAAG,CACpB,CAAC,EACFrB,CAAA;MACEgC,SAAS,EAAC,kEAAkE;MAC5EC,IAAI,EAAC,QAAQ;MACbzB,IAAI,EAAE,IAAI,CAACA,IAAI,CAACa;IAAG,GAElBU,IAAI,CAAC,QAAQ,CACR,CACL,CAAC;EAEV;AACF;AAEA,eAAe1B,KAAK","ignoreList":[]}