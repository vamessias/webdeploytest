{"version":3,"names":["getCanvasDataThatFitsPerfectlyIntoContainer","containerData","canvasData","widthRatio","width","heightRatio","height","scaleFactor","Math","min","newWidth","newHeight","newLeft","newTop","left","top"],"sources":["getCanvasDataThatFitsPerfectlyIntoContainer.ts"],"sourcesContent":["import type Cropper from 'cropperjs'\n// See this cropperjs image to understand how container/image/canavas/cropbox relate to each other.\n// (https://github.com/fengyuanchen/cropperjs/blob/9b528a8baeaae876dc090085e37992a1683c6f34/docs/images/layers.jpg)\n//\nfunction getCanvasDataThatFitsPerfectlyIntoContainer(\n  containerData: Cropper.ContainerData,\n  canvasData: Cropper.CanvasData,\n): { width: number; height: number; left: number; top: number } {\n  // 1. Scale our canvas as much as possible\n  const widthRatio = containerData.width / canvasData.width\n  const heightRatio = containerData.height / canvasData.height\n  const scaleFactor = Math.min(widthRatio, heightRatio)\n\n  const newWidth = canvasData.width * scaleFactor\n  const newHeight = canvasData.height * scaleFactor\n\n  // 2. Center our canvas\n  const newLeft = (containerData.width - newWidth) / 2\n  const newTop = (containerData.height - newHeight) / 2\n\n  return {\n    width: newWidth,\n    height: newHeight,\n    left: newLeft,\n    top: newTop,\n  }\n}\n\nexport default getCanvasDataThatFitsPerfectlyIntoContainer\n"],"mappings":"AACA;AACA;AACA;AACA,SAASA,2CAA2CA,CAClDC,aAAoC,EACpCC,UAA8B,EACgC;EAC9D;EACA,MAAMC,UAAU,GAAGF,aAAa,CAACG,KAAK,GAAGF,UAAU,CAACE,KAAK;EACzD,MAAMC,WAAW,GAAGJ,aAAa,CAACK,MAAM,GAAGJ,UAAU,CAACI,MAAM;EAC5D,MAAMC,WAAW,GAAGC,IAAI,CAACC,GAAG,CAACN,UAAU,EAAEE,WAAW,CAAC;EAErD,MAAMK,QAAQ,GAAGR,UAAU,CAACE,KAAK,GAAGG,WAAW;EAC/C,MAAMI,SAAS,GAAGT,UAAU,CAACI,MAAM,GAAGC,WAAW;;EAEjD;EACA,MAAMK,OAAO,GAAG,CAACX,aAAa,CAACG,KAAK,GAAGM,QAAQ,IAAI,CAAC;EACpD,MAAMG,MAAM,GAAG,CAACZ,aAAa,CAACK,MAAM,GAAGK,SAAS,IAAI,CAAC;EAErD,OAAO;IACLP,KAAK,EAAEM,QAAQ;IACfJ,MAAM,EAAEK,SAAS;IACjBG,IAAI,EAAEF,OAAO;IACbG,GAAG,EAAEF;EACP,CAAC;AACH;AAEA,eAAeb,2CAA2C","ignoreList":[]}